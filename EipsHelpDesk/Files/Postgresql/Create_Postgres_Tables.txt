Host=localhost;
Database=postgres;
Port=5432;
Username=postgres;
Password=A1aaaaaa

Создание БД: create database eipshelpdesk;
Подключение к БД: \c eipshelpdesk

DROP TABLE IF EXISTS issue;

Создание Таблиц:

/*Новая концепция*/
DROP TABLE IF EXISTS issue; create table issue (id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, createdbyid integer NOT NULL, modifiedon timestamp without time zone NOT NULL, modifiedbyid integer NOT NULL, subject text NOT NULL, text text NOT NULL, initiatorid integer NOT NULL, departmentid integer NOT NULL, categoryid integer NOT NULL, statusid integer NOT NULL, lifecycleid integer NOT NULL, planneddate timestamp without time zone, factdate timestamp without time zone, responsibleid integer, solution text, factdateclosed timestamp without time zone, CONSTRAINT pk_issue PRIMARY KEY (id) );
DROP TABLE IF EXISTS departments; create table departments(id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, modifiedon timestamp without time zone NOT NULL, name text NOT NULL, shortname text, userbossid integer, sqlid integer NOT NULL, sqlbossid integer, isactual boolean NOT NULL, CONSTRAINT pk_departments PRIMARY KEY (id));
DROP TABLE IF EXISTS users; create table users(id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),	createdon timestamp without time zone NOT NULL,	modifiedon  timestamp without time zone NOT NULL, name text NOT NULL, login text, positions text, personnelnumber text, departmentid integer NOT NULL, phone text, roleid integer, sqlid integer NOT NULL, isactual boolean NOT NULL, CONSTRAINT pk_users PRIMARY KEY (id));

DROP TABLE IF EXISTS categories; create table categories (id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, createdbyid integer NOT NULL, modifiedon timestamp without time zone NOT NULL, modifiedbyid integer NOT NULL, name text NOT NULL, description text, ownerid integer NOT NULL, CONSTRAINT pk_categories PRIMARY KEY (id));
DROP TABLE IF EXISTS roles; create table roles (id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), name text, CONSTRAINT pk_roles PRIMARY KEY (id));
DROP TABLE IF EXISTS status; create table status(id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, createdbyid integer NOT NULL, modifiedon timestamp without time zone NOT NULL, modifiedbyid integer NOT NULL, name text NOT NULL, color text, description text, CONSTRAINT pk_status PRIMARY KEY (id));
DROP TABLE IF EXISTS lifecycle; create table lifecycle (id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, createdbyid integer NOT NULL, modifiedon timestamp without time zone NOT NULL, modifiedbyid integer NOT NULL, issueid integer NOT NULL, statusid integer NOT NULL, name text NOT NULL, userid integer, datefact timestamp without time zone, CONSTRAINT pk_lifecycle PRIMARY KEY (id));
DROP TABLE IF EXISTS sessions; create table sessions (id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ), createdon timestamp without time zone NOT NULL, userid integer NOT NULL, login text NOT NULL, action text NOT NULL, result boolean NOT NULL, CONSTRAINT pk_sessions PRIMARY KEY (id));
DROP TABLE IF EXISTS userssettings; create table userssettings(id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),createdon timestamp without time zone NOT NULL, modifiedon timestamp without time zone NOT NULL, userid integer,issueff integer,issuesf integer,issuetf integer,CONSTRAINT pk_userssettings PRIMARY KEY (id));

INSERT INTO public.status(createdon, createdbyid, modifiedon, modifiedbyid, name, description, color)
VALUES ('2021-12-16 13:57:37.013967', 4744, '2021-12-16 13:57:37.013967', 4744, 'New', 'Автоматически присваивается при регистрации заявки', 'primary');

INSERT INTO public.status(createdon, createdbyid, modifiedon, modifiedbyid, name, description, color)
VALUES ('2021-12-16 13:57:37.013967', 4744, '2021-12-16 13:57:37.013967', 4744, 'In Progress', 'Сотрудники компании работают над заявкой', 'info');

INSERT INTO public.status(createdon, createdbyid, modifiedon, modifiedbyid, name, description, color)
VALUES ('2021-12-16 13:57:37.013967', 4744, '2021-12-16 13:57:37.013967', 4744, 'Fixed', 'Заявка отработана и заказчик подтверждает решение вопроса', 'success');

INSERT INTO public.status(createdon, createdbyid, modifiedon, modifiedbyid, name, description, color)
VALUES ('2021-12-16 13:57:37.013967', 4744, '2021-12-16 13:57:37.013967', 4744, 'Canceled', 'Заявка открыта ошибочно или приостановлена по требованию инициатора', 'danger');

INSERT INTO public.status(createdon, createdbyid, modifiedon, modifiedbyid, name, description, color)
VALUES ('2021-12-16 13:57:37.013967', 4744, '2021-12-16 13:57:37.013967', 4744, 'Closed', 'Вопрос по заявке полностью решен и заявка закрыта', 'secondary');

/**/
INSERT INTO public.categories(createdon, createdbyid, modifiedon, modifiedbyid, name, description, ownerid)
VALUES ('2021-12-20 11:26:47.072989', 4744, '2021-12-20 11:26:47.072989', 4744, 'ОТиПБ', 'касается рисков здоровью сотрудника',298);

INSERT INTO public.categories(createdon, createdbyid, modifiedon, modifiedbyid, name, description, ownerid)
VALUES ('2021-12-20 11:26:47.072989', 4744, '2021-12-20 11:26:47.072989', 4744, 'Условия труда', 'рабочее пространство', 155);

INSERT INTO public.categories(createdon, createdbyid, modifiedon, modifiedbyid, name, ownerid)
VALUES ('2021-12-20 11:26:47.072989', 4744, '2021-12-20 11:26:47.072989', 4744, 'АХО', 39);

INSERT INTO public.categories(createdon, createdbyid, modifiedon, modifiedbyid, name, ownerid)
VALUES ('2021-12-20 11:26:47.072989', 4744, '2021-12-20 11:26:47.072989', 4744, 'Социальные вопросы',378);

INSERT INTO public.categories(createdon, createdbyid, modifiedon, modifiedbyid, name, ownerid)
VALUES ('2021-12-20 11:26:47.072989', 4744, '2021-12-20 11:26:47.072989', 4744, 'Другое',771);

/**/
INSERT INTO public.roles(name) VALUES ('Administrators');
INSERT INTO public.roles(name) VALUES ('Moderators');
INSERT INTO public.roles(name) VALUES ('Users');